<!--# the line below uses the fact that most objects are truthy and nil is falsey, to complete the boolean while also defining a favorite variable for later use. AKA the variable is an object, and because its an object can complete the if statement.-->

 <% if favorite = current_user.favorite_for(post) %>
<!-- #link to can take a block argument of HTML so the html isn't its own line its part of link_to's call -->
   <%= link_to [post, favorite], class: 'btn btn-danger', method: :delete do %> <i class="glyphicon glyphicon-star-empty"> </i>&nbsp; Unfavorite
   <% end %>
 <% else %>
<!--#-->
   <%= link_to [post, Favorite.new], class: 'btn btn-primary', method: :post do %> <i class="glyphicon glyphicon-star"> </i>&nbsp; Favorite
   <% end %>
 <% end %>
